import{d as B,p as t,h as v,v as f,c as y,o as c,F as q,j as n,G as k,n as x,a as d,X as w,Z as _,_ as P,al as T}from"./chunks/framework.C10EcB-T.js";import{C as e}from"./chunks/CBtn.Wnj9TAO0.js";const W={class:"btns"},S=B({__name:"Draw",setup(F){const a=t(),s=v(()=>a.value?a.value.getContext("2d"):null),l=t(1),E=t(!1),g=t(),h=t(!1),u=()=>{a.value.onmousedown=function(p){E.value=!0,s.value.beginPath(),s.value.moveTo(p.offsetX,p.offsetY)},a.value.onmouseleave=function(){E.value=!1,s.value.closePath()},a.value.onmouseup=function(){E.value=!1,s.value.closePath()},a.value.onmousemove=function(p){if(E.value){var i=p.offsetX,r=p.offsetY;s.value.lineTo(i,r),s.value.stroke()}}},b=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",l.value+=2,s.value.lineWidth=l.value},o=()=>{h.value=!1,s.value.globalCompositeOperation="source-over",l.value-=2,l.value<1&&(l.value=1),s.value.lineWidth=l.value},m=()=>{var p=a.value.toDataURL(),i=document.createElement("a");i.setAttribute("download","签名"),i.href=p,i.click()},C=()=>{s.value.strokeStyle=g.value},D=()=>{h.value=!h.value,h.value?s.value.globalCompositeOperation="destination-out":s.value.globalCompositeOperation="source-over"},A=()=>{s.value.clearRect(0,0,750,600)};return f(()=>{u()}),(p,i)=>(c(),y(q,null,[n("div",W,[k(e,{onClick:b,text:"粗线条"}),k(e,{onClick:o,text:"细线条"}),k(e,{onClick:m,text:"保存签名"}),n("input",{onChange:C,ref_key:"color",ref:g,type:"color",name:""},null,544),k(e,{onClick:D,text:"橡皮擦",class:x(h.value?"active":"")},null,8,["class"]),k(e,{onClick:A,text:"清空画布"})]),n("div",null,[i[1]||(i[1]=d(" 线宽： ")),w(n("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>l.value=r),type:"text"},null,512),[[_,l.value]])]),n("canvas",{ref_key:"canvas",ref:a,width:"750",height:"600"},null,512)],64))}}),O=P(S,[["__scopeId","data-v-28058e46"]]),j=JSON.parse('{"title":"画板","description":"","frontmatter":{},"headers":[],"relativePath":"visual/canvas/example/画板.md","filePath":"visual/canvas/example/画板.md","lastUpdated":1729520793000}'),V={name:"visual/canvas/example/画板.md"},L=Object.assign(V,{setup(F){return(a,s)=>(c(),y("div",null,[s[0]||(s[0]=n("h1",{id:"画板",tabindex:"-1"},[d("画板 "),n("a",{class:"header-anchor",href:"#画板","aria-label":'Permalink to "画板"'},"​")],-1)),s[1]||(s[1]=n("h2",{id:"示例",tabindex:"-1"},[d("示例 "),n("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1)),k(O),s[2]||(s[2]=T("",6))]))}});export{j as __pageData,L as default};
